<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="../build/nv.d3.css" rel="stylesheet" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.2/d3.min.js" charset="utf-8"></script>
    <script src="../build/nv.d3.js"></script>
	<script src="lib/stream_layers.js"></script>

    <style>
        text {
            font: 14px sans-serif;
			<!-- fill: white !important; -->
        }
        svg {
            display: block;
			float: left;
            height: 300px;
            width: 300px;
			
        }
        html, body, #chart1, svg {
            margin: 0px;
            padding: 0px;
			padding-bottom: calc(100% * 3 / 4);
            height: 100%;
            width: 100%;
		

    </style>
</head>
<body>

<div class="testBlock"><svg width="100%" height="300" id="test1"></svg></div>



<script>

var width = 300;
var height = .4 * width;


nv.addGraph(function() {
  var chart = nv.models.pieChart()
      .x(function(d) { return d.label })
      .y(function(d) { return d.value })
      .showLabels(true)     //Display pie labels
	  
      //.labelThreshold(.05)  //Configure the minimum slice size for labels to show up
      .labelType("percent") //Configure what type of data to show in the label. Can be "key", "value" or "percent"
      .donut(true)          //Turn on Donut mode. Makes pie chart look tasty!
      .donutRatio(0.35)     //Configure how big you want the donut hole size to be.
	  .color(["#9BBB59", "#EEB058", "#C0504D", "#8064A2", "#49D9FF"])
	  .valueFormat(d3.format(',.0f'))

      ;

    d3.select("#test1")
        .datum(exampleData())
        .transition().duration(1200)
		.attr('width', width)
        .attr('height', height)
        .call(chart);

	
	nv.utils.windowResize(chart.update);
	
	return chart;
	
});

	
function exampleData() {
  return  [
      { 
        "label": "NB",
        "value" : 37379
		//"color" : "#9BBB59"
      } , 
      { 
        "label": "A1",
        "value" : 42795
		//"color" : "#EEB058"
      } , 
      { 
        "label": "A2",
        "value" : 638279
		//"color" : "#C0504D"
      } , 
      { 
        "label": "A3",
        "value" : 134564
		//"color" : "#8064A2"
      } , 
      { 
        "label": "DM",
        "value" : 10340
		//"color" : "#49D9FF"
      }
    ];

}


</script>
</body>
</html>
